b'You are given a list of\xc2\xa0preferences\xc2\xa0for\xc2\xa0n\xc2\xa0friends, where n is always even.\nFor each person i,\xc2\xa0preferences[i]\xc2\xa0contains\xc2\xa0a list of friends\xc2\xa0sorted in the order of preference. In other words, a friend earlier in the list is more preferred than a friend later in the list.\xc2\xa0Friends in\xc2\xa0each list are\xc2\xa0denoted by integers from 0 to n-1.\nAll the friends are divided into pairs.\xc2\xa0The pairings are\xc2\xa0given in a list\xc2\xa0pairs,\xc2\xa0where pairs[i] = [xi, yi] denotes xi\xc2\xa0is paired with yi and yi is paired with xi.\nHowever, this pairing may cause some of the friends to be unhappy.\xc2\xa0A friend x\xc2\xa0is unhappy if x\xc2\xa0is paired with y\xc2\xa0and there exists a friend u\xc2\xa0who\xc2\xa0is paired with v\xc2\xa0but:\n\nx\xc2\xa0prefers u\xc2\xa0over y,\xc2\xa0and\nu\xc2\xa0prefers x\xc2\xa0over v.\n\nReturn the number of unhappy friends.\n\xc2\xa0\nExample 1:\nInput: n = 4, preferences = [[1, 2, 3], [3, 2, 0], [3, 1, 0], [1, 2, 0]], pairs = [[0, 1], [2, 3]]\nOutput: 2\nExplanation:\nFriend 1 is unhappy because:\n- 1 is paired with 0 but prefers 3 over 0, and\n- 3 prefers 1 over 2.\nFriend 3 is unhappy because:\n- 3 is paired with 2 but prefers 1 over 2, and\n- 1 prefers 3 over 0.\nFriends 0 and 2 are happy.\n\nExample 2:\nInput: n = 2, preferences = [[1], [0]], pairs = [[1, 0]]\nOutput: 0\nExplanation: Both friends 0 and 1 are happy.\n\nExample 3:\nInput: n = 4, preferences = [[1, 3, 2], [2, 3, 0], [1, 3, 0], [0, 2, 1]], pairs = [[1, 3], [0, 2]]\nOutput: 4\n\n\xc2\xa0\nConstraints:\n\n2 <= n <= 500\nn\xc2\xa0is even.\npreferences.length\xc2\xa0== n\npreferences[i].length\xc2\xa0== n - 1\n0 <= preferences[i][j] <= n - 1\npreferences[i]\xc2\xa0does not contain i.\nAll values in\xc2\xa0preferences[i]\xc2\xa0are unique.\npairs.length\xc2\xa0== n/2\npairs[i].length\xc2\xa0== 2\nxi != yi\n0 <= xi, yi\xc2\xa0<= n - 1\nEach person is contained in exactly one pair.\n\n'